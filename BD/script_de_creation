-- supprime toutes les tables existantes pour ne pas avoir de doublon
DROP TABLE if exists CLIENT;
DROP TABLE if exists CD;
DROP TABLE if exists PANNIER;
DROP TABLE if exists COMMANDE;

-- Cr√©ation des tables
CREATE TABLE if not exists CLIENT (
    ID INTEGER PRIMARY KEY AUTOINCREMENT,
    NOM VARCHAR(255) NOT NULL,
    EMAIL VARCHAR(255) NOT NULL,
    MOT_DE_PASS VARCHAR(255) NOT NULL
);

CREATE TABLE if not exists CD (
    ID INTEGER PRIMARY KEY AUTOINCREMENT,
    TITRE VARCHAR(255) NOT NULL,
    ARTISTE VARCHAR(255) NOT NULL,
    IMAGE BLOB,
    PRIX DECIMAL(6,2) NOT NULL,
    QUANTITE INTEGER NOT NULL
);

CREATE TABLE if not exists PANNIER
(
    ID INTEGER PRIMARY KEY AUTOINCREMENT,
    DATE DATE NOT NULL,
    ID_CLIENT INTEGER NOT NULL,
    FOREIGN KEY (ID_CLIENT) REFERENCES CLIENT (ID)
);

CREATE TABLE if not exists COMMANDE (
    ID INTEGER PRIMARY KEY AUTOINCREMENT,
    DATE DATE NOT NULL,
    ID_CLIENT INTEGER NOT NULL,
    FOREIGN KEY (ID_CLIENT) REFERENCES CLIENT(ID)
);